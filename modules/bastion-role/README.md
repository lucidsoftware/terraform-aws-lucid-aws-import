# Lucid AWS Import Bastion Role Module


This module should be set up in the bastion account (or the management/root account if you choose to not have a separate bastion account).

It will create an IAM role that allows Lucid's AWS import proxy account to assume it. This role can assume the member role in each of the accounts in the organization. This will be the first landing point for Lucid AWS imports.

## Usage

To use this module, include it in your Terraform configuration as follows:

```hcl
module "bastion_role" {
  source = "../modules/bastion-role"

  bastion_role_name         = "your_bastion_role_name"
  external_id               = "lucid_generated_external_id"
  member_account_role_name  = "your_member_account_role_name"
  role_policy_name          = "your_role_policy_name"
}
```

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.4 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | >= 5.0 |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_bastion_role_name"></a> [bastion\_role\_name](#input\_bastion\_role\_name) | The name of the bastion role | `string` | `"lucid_bastion_import"` | no |
| <a name="input_external_id"></a> [external\_id](#input\_external\_id) | The external id generated by Lucid that uniquely associates this role with the Lucid AWS proxy account | `string` | n/a | yes |
| <a name="input_member_account_role_name"></a> [member\_account\_role\_name](#input\_member\_account\_role\_name) | The name of the role in the member account that the bastion role will assume to do imports | `string` | `"lucid_import"` | no |
| <a name="input_role_policy_name"></a> [role\_policy\_name](#input\_role\_policy\_name) | The name of the policy for assuming cross role access and organizational read permissions (attached to the bastion role). Used for Lucid AWS imports | `string` | `"lucid_bastion_import"` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_bastion_role_arn"></a> [bastion\_role\_arn](#output\_bastion\_role\_arn) | The ARN of the bastion role |
| <a name="output_bastion_role_name"></a> [bastion\_role\_name](#output\_bastion\_role\_name) | The name of the bastion role |
| <a name="output_bastion_role_policy_arn"></a> [bastion\_role\_policy\_arn](#output\_bastion\_role\_policy\_arn) | The ARN of the bastion role policy |